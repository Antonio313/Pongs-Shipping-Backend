@baseUrl = http://localhost:3000/api/auth
@contentType = application/json

### 1. Health Check
GET {{baseUrl}}/health
Content-Type: {{contentType}}

### 2. Register a new user
# @name register
POST {{baseUrl}}/register
Content-Type: {{contentType}}

{
  "first_name": "John",
  "last_name": "Doe",
  "email": "reuelrichards2@gmail.com",
  "password": "password123",
  "phone": "876-555-0123",
  "branch": "Priory",
  "role": "C"
}

### 3. Register another test user
# @name register2
POST {{baseUrl}}/register
Content-Type: {{contentType}}

{
  "first_name": "Jane",
  "last_name": "Smith",
  "email": "jane.smith@example.com",
  "password": "password123",
  "phone": "876-555-0124",
  "branch": "Ocho Rios",
  "role": "C"
}

### 4. Try to login before verification (should fail)
# @name loginBeforeVerify
POST {{baseUrl}}/login
Content-Type: {{contentType}}

{
  "email": "john.doe@example.com",
  "password": "password123"
}

### 5. Resend verification email
# @name resendVerification
POST {{baseUrl}}/resend-verification
Content-Type: {{contentType}}

{
  "email": "john.doe@example.com"
}

### 6. Verify email (replace TOKEN with actual token from email)
# @name verifyEmail
GET {{baseUrl}}/verify-email?token=REPLACE_WITH_ACTUAL_TOKEN
Content-Type: {{contentType}}

### 7. Login after verification (should succeed)
# @name loginAfterVerify
POST {{baseUrl}}/login
Content-Type: {{contentType}}

{
  "email": "john.doe@example.com",
  "password": "password123"
}

### 8. Try to register with existing email (should fail)
# @name registerDuplicate
POST {{baseUrl}}/register
Content-Type: {{contentType}}

{
  "first_name": "John",
  "last_name": "Doe",
  "email": "john.doe@example.com",
  "password": "password123",
  "phone": "876-555-0123",
  "branch": "Priory",
  "role": "C"
}

### 9. Test invalid email format
# @name invalidEmail
POST {{baseUrl}}/register
Content-Type: {{contentType}}

{
  "first_name": "Test",
  "last_name": "User",
  "email": "invalid-email",
  "password": "password123",
  "phone": "876-555-0125",
  "branch": "Priory",
  "role": "C"
}

### 10. Test short password
# @name shortPassword
POST {{baseUrl}}/register
Content-Type: {{contentType}}

{
  "first_name": "Test",
  "last_name": "User",
  "email": "test.user@example.com",
  "password": "short",
  "phone": "876-555-0125",
  "branch": "Priory",
  "role": "C"
}

### 11. Test missing required fields
# @name missingFields
POST {{baseUrl}}/register
Content-Type: {{contentType}}

{
  "first_name": "Test",
  "last_name": "User",
  "email": "test.user@example.com"
  // Missing password and other required fields
}